<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
}

.card {
    width: 90%;
    max-width: 360px;
    background: white;
    border-radius: 22px;
    padding: 25px;
    text-align: center;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    cursor: pointer;
}

h1 {
    font-family: 'Playfair Display', serif;
    color: #e63946;
}

.message {
    opacity: 0;
    transform: translateY(20px);
    transition: 0.6s ease;
}

.card.open .message {
    opacity: 1;
    transform: translateY(0);
}

.tap {
    font-size: 14px;
    color: #666;
}

.buttons {
    margin-top: 25px;
    display: none;
    justify-content: center;
}

.card.open .buttons {
    display: flex;
}

button {
    border: none;
    border-radius: 30px;
    padding: 12px 22px;
    font-size: 16px;
    cursor: pointer;
}

#yesBtn {
    background: #e63946;
    color: white;
    font-size: 18px;
    padding: 14px 30px;
    transition: transform 0.2s ease;
}

#noBtn {
    background: #f1f1f1;
    color: #333;
    position: absolute;
}

.music {
    position: fixed;
    bottom: 15px;
    right: 15px;
    background: white;
    border-radius: 50%;
    padding: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    cursor: pointer;
}

.heart {
    position: absolute;
    bottom: -20px;
    font-size: 22px;
    animation: float 4s linear infinite;
}

@keyframes float {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-450px); opacity: 0; }
}

.confetti {
    position: absolute;
    font-size: 20px;
    animation: confetti 3s linear forwards;
}

@keyframes confetti {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(600px); opacity: 0; }
}
</style>
</head>

<body>

<div class="card" onclick="openCard()">
    <h1>ğŸ’Œ Happy Valentineâ€™s</h1>
    <p class="tap">(Tap to open)</p>

    <div class="message">
        <p><strong>GraciÃ© will you be my Valentine?</strong> ğŸ’–</p>
    </div>

    <div class="buttons">
        <button id="yesBtn" onclick="yesClicked(event)">Yes ğŸ˜</button>
    </div>
</div>

<button id="noBtn">No ğŸ˜’</button>

<div class="music" onclick="toggleMusic()">ğŸµ</div>

<audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
</audio>

<script>
const card = document.querySelector('.card');
const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');
const music = document.getElementById('bgMusic');

let speed = 300;
let yesScale = 1;
let dodgeCount = 0;
let musicPlaying = false;

const noTexts = ["NO ğŸ˜’", "WAIT ğŸ˜³", "HEY ğŸ˜­", "STOP ğŸƒâ€â™‚ï¸", "PLS ğŸ˜©"];

function openCard() {
    card.classList.add('open');

    for (let i = 0; i < 8; i++) {
        let heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = 'â¤ï¸';
        heart.style.left = Math.random() * 100 + '%';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
    }

    moveNoButton();
}

function moveNoButton() {
    dodgeCount++;

    noBtn.textContent = noTexts[dodgeCount % noTexts.length];

    if (dodgeCount % 3 === 0) {
        setTimeout(actualMove, speed);
    } else {
        actualMove();
    }

    speed = Math.max(80, speed - 30);

    yesScale += 0.1;
    yesBtn.style.transform = `scale(${yesScale})`;
}

function actualMove() {
    const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
    const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
    noBtn.style.left = x + 'px';
    noBtn.style.top = y + 'px';
}

noBtn.addEventListener('mouseover', moveNoButton);
noBtn.addEventListener('touchstart', moveNoButton);

document.addEventListener('mousemove', e => {
    yesBtn.style.transform =
        `scale(${yesScale}) translate(${(e.clientX - window.innerWidth/2)/60}px,
        ${(e.clientY - window.innerHeight/2)/60}px)`;
});

function toggleMusic() {
    if (!musicPlaying) {
        music.play();
        musicPlaying = true;
    } else {
        music.pause();
        musicPlaying = false;
    }
}

function yesClicked(e) {
    e.stopPropagation();

    for (let i = 0; i < 40; i++) {
        let conf = document.createElement('div');
        conf.className = 'confetti';
        conf.innerHTML = ['ğŸ’–','ğŸ’˜','â¤ï¸','ğŸ˜'][Math.floor(Math.random()*4)];
        conf.style.left = Math.random() * 100 + '%';
        conf.style.top = '-20px';
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 3000);
    }

    document.body.innerHTML = `
        <div style="
            height:100vh;
            display:flex;
            flex-direction:column;
            justify-content:center;
            align-items:center;
            background:linear-gradient(135deg,#ff9a9e,#fad0c4);
            font-family:Poppins;
            text-align:center;">
            <h1 style="color:#e63946;">IT WAS ALWAYS YES ğŸ’–</h1>
            <p>Youâ€™re my Valentine now ğŸ˜Œ</p>
        </div>`;
}
</script>

</body>
</html>